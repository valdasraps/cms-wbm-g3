'use strict';

angular.module('WbmModule').controller('SingleRun', function ($scope, $http) {

    $scope.data = {
        runnumber: 0
    };
    
    $scope.onInit = function () {
        return $scope.data;
    }
    
    $scope.onApply = function () {
        return $scope.data;
    }

    $scope.onCancel = function () {
        return { };
    }
    
    $scope.runNumbers = [
        263915,263907,263900,263899,263893,263892,263889,263858,263841,263824,263823,263821,263820,263797,263796,263795,263794,263793,263787,263784,263781,263774,263759,263758,263757,263755,263752,263750,263746,263745,263744,263743,
        263742,263741,263740,263739,263738,263737,263736,263735,263734,263733,263732,263731,263730,263729,263728,263727,263726,263725,263724,263723,263722,263721,263720,263719,263718,263717,263716,263715,263714,263713,263712,263711,
        263710,263709,263708,263705,263704,263703,263702,263701,263700,263699,263697,263694,263693,263692,263689,263688,263687,263686,263685,263684,263682,263680,263679,263676,263675,263674,263673,263671,263670,263669,263668,263667,
        263666,263665,263663,263662,263661,263659,263658,263657,263656,263655,263654,263653,263652,263651,263650,263649,263648,263647,263646,263642,263627,263626,263625,263620,263619,263618,263617,263616,263614,263612,263608,263607,
        263606,263605,263604,263603,263601,263598,263592,263590,263586,263584,263583,263582,263581,263580,263577,263570,263569,263562,263560,263558,263553,263552,263548,263547,263544,263540,263539,263538,263536,263535,263533,263532,
        263531,263530,263529,263528,263527,263524,263522,263520,263519,263518,263517,263516,263514,263513,263512,263511,263510,263509,263508,263507,263506,263505,263504,263503,263502,263501,263498,263497,263496,263495,263493,263491,
        263490,263489,263480,263478,263476,263475,263473,263471,263470,263469,263464,263463,263461,263459,263458,263456,263454,263453,263451,263450,263449,263448,263446,263445,263443,263441,263440,263439,263438,263436,263434,263433,
        263432,263430,263429,263424,263423,263421,263419,263417,263414,263413,263412,263411,263410,263409,263407,263406,263404,263402,263400,263398,263397,263395,263393,263392,263390,263388,263385,263381,263379,263376,263375,263374,
        263372,263370,263369,263368,263367,263366,263365,263364,263363,263362,263361,263360,263359,263358,263357,263356,263355,263354,263353,263352,263351,263350,263349,263348,263345,263343,263340,263337,263333,263331,263330,263329,
        263325,263322,263320,263318,263316,263313,263311,263309,263308,263305,263301,263300,263299,263298,263297,263296,263295,263294,263293,263292,263291,263290,263289,263288,263287,263286,263285,263284,263281,263280,263276,263275,
        263274,263273,263271,263270,263268,263266,263264,263263,263261,263260,263258,263257,263256,263250,263249,263248,263247,263246,263244,263243,263241,263240,263239,263238,263237,263236,263235,263234,263233,263232,263230,263229,
        263228,263225,263223,263221,263220,263216,263213,263212,263211,263210,263208,263207,263204,263203,263200,263197,263196,263195,263194,263192,263186,263185,263173,263168,263167,263166,263165,263163,263159,263158,263156,263155,
        263153,263151,263149,263147,263145,263143,263141,263140,263139,263138,263135,263126,263124,263118,263117,263116,263115,263111,263110,263105,263104,263103,263101,263100,263099,263095,263094,263093,263092,263091,263090,263089,
        263088,263087,263086,263085,263084,263083,263082,263081,263080,263079,263078,263077,263076,263075,263074,263073,263072,263070,263067,263061,263054,263049,263046,263045,263044,263041,263040,263039,263038,263037,263036,263035,
        263034,263033,263032,263031,263029,263028,263027,263026,263025,263024,263023,263022,263021,263020,263019,263018,263017,263016,263015,263014,263013,263012,263011,263010,263009,263008,263007,263006,263005,263004,263001,263000,
        262999,262998,262997,262996,262995,262994,262993,262992,262991,262990,262989,262988,262987,262985,262984,262983,262980,262973,262968,262966
    ];
    
    $scope.getPrevRun = function() {
        var i = $scope.runNumbers.indexOf($scope.data.runnumber);
        if (i >= 0 && i < $scope.runNumbers.length - 1) {
            return $scope.runNumbers[i + 1];
        }
        return 0;
    }

    $scope.getNextRun = function() {
        var i = $scope.runNumbers.indexOf($scope.data.runnumber);
        if (i > 0) {
            return $scope.runNumbers[i - 1];
        }
        return 0;
    }
    
    $scope.getLastRun = function() {
        var last = $scope.runNumbers[0];
        if ($scope.data.runnumber !== last) return last;
        return 0;
    }
    
    $scope.data.runnumber = $scope.getLastRun()

});